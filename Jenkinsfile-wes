//Jenkinsfile:
https://github.com/WesleysOrg/maven-web-application2

pipeline{
	agent any
	tools {
	  maven "maven3.9.2"
	}
	//options{}
	//triggers{}
	stages{
	   stage('1clone'){
	     steps{
	       sh "echo 'ready to automate build'"
	       git "https://github.com/WesleysOrg/maven-web-application2"
	       sh "echo 'latest version collected'"
	     } 
	   }

	   stage('2build'){
	     steps{
	       sh "echo 'running JUnit-test-cases'"
	       sh "echo 'testing must be passed to create artifacts'"
	       sh "echo 'build process starts'"
	       sh "mvn clean package"
	       sh "echo 'build process ends'"
	     }
	   }

	   stage('3review'){
	     steps{
	       sh "echo 'CodeQuality review starts'"
	       sh "mvn sonar:sonar"
	       sh "echo 'CodeQuality review ends'"

	     }

	   }

	   stage('4uploadartifacts'){
	     steps{
	       sh "mvn deploy"
	       sh "echo 'build and release job completed successfully'"

	     }

	   }

	   stage('5deployment'){
	     steps{
	     deploy adapters: [tomcat9(credentialsId: 'tomcat-credentials', path: '', url: 'http://3.15.198.241:8177/')], contextPath: null, war: 'target/*war'
	     }
	   }
	 }
	post{
	  failure{}
	  success{}
	  always{}

	}

